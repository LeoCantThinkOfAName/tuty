{"version":3,"file":"OTPModal.stories-081c6816.js","sources":["../../src/components/OTPModal/index.tsx"],"sourcesContent":["import {\n  Button,\n  Flex,\n  Modal,\n  ModalBody,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n  ModalProps,\n} from \"@chakra-ui/react\";\nimport { FC, KeyboardEvent } from \"react\";\nimport { InputGroup, InputGroupItem } from \"../InputGroup\";\n\nimport { useTranslation } from \"react-i18next\";\n\ninterface OTPModalProps extends Omit<ModalProps, \"children\"> {\n  title?: string;\n}\n\nconst inputs = [0, 1, 2, 3, 4, 5];\n\nexport const OTPModal: FC<OTPModalProps> = ({ title, ...props }) => {\n  const { t } = useTranslation();\n\n  const createInputs = inputs.map((i, index) => {\n    let hasValue: boolean;\n    const onKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\n      const { value } = e.currentTarget;\n      const key = e.key;\n      const regex = /\\d/g;\n      if (value) {\n        hasValue = true;\n      } else {\n        hasValue = false;\n      }\n      if (key === \"Backspace\") return key;\n      if (!regex.test(key)) {\n        return e.preventDefault();\n      }\n      return key;\n    };\n\n    const onKeyUp = (e: KeyboardEvent<HTMLInputElement>) => {\n      const { currentTarget } = e;\n      const { value } = currentTarget;\n\n      if (value !== \"\") {\n        currentTarget.parentElement\n          ?.querySelectorAll(\"input\")\n          [index + 1]?.focus();\n      }\n\n      if (e.key === \"Backspace\" && !hasValue) {\n        currentTarget.parentElement\n          ?.querySelectorAll(\"input\")\n          [index - 1]?.focus();\n      }\n    };\n\n    return (\n      <InputGroupItem\n        flex=\"1\"\n        h=\"16\"\n        fontSize=\"3xl\"\n        textAlign=\"center\"\n        maxLength={1}\n        key={i}\n        pattern=\"/\\d/\"\n        onKeyDown={onKeyDown}\n        onKeyUp={onKeyUp}\n      />\n    );\n  });\n\n  return (\n    <Modal isCentered {...props}>\n      <ModalOverlay />\n      <ModalContent>\n        <ModalHeader>{t(title as unknown as TemplateStringsArray)}</ModalHeader>\n        <ModalBody>\n          <Flex justifyContent=\"center\">\n            <InputGroup maxW=\"sm\" hidden={true}>\n              {createInputs}\n            </InputGroup>\n          </Flex>\n        </ModalBody>\n        <ModalFooter>\n          <Button variant=\"ghost\" mr=\"3\">\n            {t(\"otp.resentButton\")}\n          </Button>\n          <Button variant=\"success\" onClick={props.onClose}>\n            {t(\"common.submit\")}\n          </Button>\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  );\n};\n\nOTPModal.defaultProps = {\n  title: \"otp.title\",\n  isOpen: false,\n};\n"],"names":["inputs","OTPModal","title","props","t","useTranslation","createInputs","i","index","hasValue","onKeyDown","e","value","key","regex","onKeyUp","currentTarget","_b","_a","_d","_c","jsx","InputGroupItem","jsxs","Modal","ModalOverlay","ModalContent","ModalHeader","ModalBody","Flex","InputGroup","ModalFooter","Button"],"mappings":"ikBAoBA,MAAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,EAEOC,EAAA,CAAA,CAAA,MAAAC,EAAA,GAAAC,CAAA,IAAA,CACL,KAAA,CAAA,EAAAC,GAAAC,IAEAC,EAAAN,EAAA,IAAA,CAAAO,EAAAC,IAAA,CACE,IAAAC,EACA,MAAAC,EAAAC,GAAA,CACE,KAAA,CAAA,MAAAC,CAAA,EAAAD,EAAA,cACAE,EAAAF,EAAA,IACAG,EAAA,MAMA,OALAF,EACEH,EAAA,GAEAA,EAAA,GAEFI,IAAA,aACAC,EAAA,KAAAD,CAAA,EADyBA,EAEvBF,EAAA,gBAEK,EAGTI,EAAAJ,GAAA,aACE,KAAA,CAAA,cAAAK,CAAA,EAAAL,EACA,CAAA,MAAAC,CAAA,EAAAI,EAEAJ,IAAA,MACEK,GAAAC,EAAAF,EAAA,gBAAA,YAAAE,EAAA,iBAAA,SAAAV,EAAA,KAAA,MAAAS,EAAA,SAKFN,EAAA,MAAA,aAAA,CAAAF,KACEU,GAAAC,EAAAJ,EAAA,gBAAA,YAAAI,EAAA,iBAAA,SAAAZ,EAAA,KAAA,MAAAW,EAAA,QAGF,EAGF,OAAAE,EAAA,IACEC,EAAC,CAAA,KAAA,IACM,EAAA,KACH,SAAA,MACO,UAAA,SACC,UAAA,EACC,QAAA,QAEH,UAAAZ,EACR,QAAAK,CACA,EAAAR,CAHK,CAIP,CAAA,EAIJ,OAAAgB,EAAAA,KAAAC,EAAA,CAAA,WAAA,GAAA,GAAArB,EAAA,SAAA,CAEIkB,EAAA,IAAAI,EAAA,EAAA,EAAcF,OAAAG,EAAA,CAAA,SAAA,CAEZL,EAAA,IAAAM,EAAA,CAAA,SAAAvB,EAAAF,CAAA,CAAA,CAAA,EAA0DmB,MAAAO,EAAA,CAAA,SAAAP,EAAAA,IAAAQ,EAAA,CAAA,eAAA,SAAA,SAAAR,EAAAA,IAAAS,EAAA,CAAA,KAAA,KAAA,OAAA,GAAA,SAAAxB,CAAA,CAAA,CAAA,CAAA,EAAA,EAO1DiB,OAAAQ,EAAA,CAAA,SAAA,CAEEV,EAAAA,IAAAW,EAAA,CAAA,QAAA,QAAA,GAAA,IAAA,SAAA5B,EAAA,kBAAA,EAAA,EAEAiB,EAAAA,IAAAW,EAAA,CAAA,QAAA,UAAA,QAAA7B,EAAA,QAAA,SAAAC,EAAA,eAAA,CAAA,CAAA,CAGA,EAAA,CACF,EAAA,CACF,CAAA,CAAA,CAGN,EAEAH,EAAA,aAAA,CAAwB,MAAA,YACf,OAAA,EAET;;;;;;"}