import{d as I,c as p,f as w,a as E}from"./chunk-ZJJGQIVY-9a0e7c81.js";import{j as n}from"./jsx-runtime-ffb262ed.js";import{u as F}from"./index-3e7aa64e.js";import{r as x}from"./index-76fb7be0.js";import{o as R,c as O,b as P,f as M}from"./index-39ab5497.js";var[z,B]=I({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function T(e){var r;const a=e.split(" "),t=(r=a[0])!=null?r:"",s=a.length>1?a[a.length-1]:"";return t&&s?`${t.charAt(0)}${s.charAt(0)}`:t.charAt(0)}function C(e){const{name:r,getInitials:a,...t}=e,s=B();return n.jsx(p.div,{role:"img","aria-label":r,...t,__css:s.label,children:r?a==null?void 0:a(r):null})}C.displayName="AvatarName";var j=e=>n.jsxs(p.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...e,children:[n.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),n.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function W(e){const{loading:r,src:a,srcSet:t,onLoad:s,onError:u,crossOrigin:l,sizes:f,ignoreFallback:m}=e,[d,g]=x.useState("pending");x.useEffect(()=>{g(a?"loading":"pending")},[a]);const c=x.useRef(),h=x.useCallback(()=>{if(!a)return;i();const o=new Image;o.src=a,l&&(o.crossOrigin=l),t&&(o.srcset=t),f&&(o.sizes=f),r&&(o.loading=r),o.onload=v=>{i(),g("loaded"),s==null||s(v)},o.onerror=v=>{i(),g("failed"),u==null||u(v)},c.current=o},[a,l,t,f,s,u,r]),i=()=>{c.current&&(c.current.onload=null,c.current.onerror=null,c.current=null)};return F(()=>{if(!m)return d==="loading"&&h(),()=>{i()}},[d,h,m]),m?"loaded":d}function S(e){const{src:r,srcSet:a,onError:t,onLoad:s,getInitials:u,name:l,borderRadius:f,loading:m,iconLabel:d,icon:g=n.jsx(j,{}),ignoreFallback:c,referrerPolicy:h,crossOrigin:i}=e,v=W({src:r,onError:t,crossOrigin:i,ignoreFallback:c})==="loaded";return!r||!v?l?n.jsx(C,{className:"chakra-avatar__initials",getInitials:u,name:l}):x.cloneElement(g,{role:"img","aria-label":d}):n.jsx(p.img,{src:r,srcSet:a,alt:l,onLoad:s,referrerPolicy:h,crossOrigin:i??void 0,className:"chakra-avatar__img",loading:m,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:f}})}S.displayName="AvatarImage";var $={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},G=w((e,r)=>{const a=E("Avatar",e),[t,s]=x.useState(!1),{src:u,srcSet:l,name:f,showBorder:m,borderRadius:d="full",onError:g,onLoad:c,getInitials:h=T,icon:i=n.jsx(j,{}),iconLabel:o=" avatar",loading:v,children:A,borderColor:b,ignoreFallback:L,crossOrigin:N,referrerPolicy:k,..._}=R(e),y={borderRadius:d,borderWidth:m?"2px":void 0,...$,...a.container};return b&&(y.borderColor=b),n.jsx(p.span,{ref:r,..._,className:O("chakra-avatar",e.className),"data-loaded":P(t),__css:y,children:n.jsxs(z,{value:a,children:[n.jsx(S,{src:u,srcSet:l,loading:v,onLoad:M(c,()=>{s(!0)}),onError:g,getInitials:h,name:f,borderRadius:d,icon:i,iconLabel:o,ignoreFallback:L,crossOrigin:N,referrerPolicy:k}),A]})})});G.displayName="Avatar";export{G as A};
//# sourceMappingURL=chunk-V7PAE35Z-77dc3dfb.js.map
